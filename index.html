<!DOCTYPE html>
<html class="light" lang="en">
<head>
<meta charset="utf-8"/>
<meta content="width=device-width, initial-scale=1.0" name="viewport"/>
<title>Property Detail Page</title>
<link href="https://fonts.googleapis.com/css2?family=Plus+Jakarta+Sans:wght@400;500;600;700;800&display=swap" rel="stylesheet"/>
<link href="https://fonts.googleapis.com/css2?family=Material+Symbols+Outlined:wght,FILL@100..700,0..1&display=swap" rel="stylesheet"/>
<script src="https://cdn.tailwindcss.com?plugins=forms,container-queries"></script>
<style type="text/tailwindcss">
    body {
        font-family: 'Plus Jakarta Sans', sans-serif;
    }
    .material-symbols-outlined {
        font-variation-settings: 'FILL' 0, 'wght' 400, 'GRAD' 0, 'opsz' 24;
    }
</style>
<script>
    tailwind.config = {
        darkMode: "class",
        theme: {
            extend: {
                colors: {
                    "primary": "#0A2342",
                    "background-light": "#ffffff",
                    "background-dark": "#14171e",
                    "brand-green": "#25D366",
                    "brand-gold": "#FFC700",
                    "text-primary": "#0A2342",
                    "text-secondary": "#333333",
                },
                fontFamily: {
                    "display": ["Plus Jakarta Sans", "sans-serif"]
                },
                borderRadius: {"DEFAULT": "1rem", "lg": "1.25rem", "xl": "1.5rem", "full": "9999px"},
            },
        },
    }
</script>
</head>
<body class="bg-background-light dark:bg-background-dark font-display">
<div class="relative flex h-auto min-h-screen w-full flex-col overflow-x-hidden">
    
    <!-- Sticky Header -->
    <div class="sticky top-0 z-20 flex items-center bg-background-light/80 dark:bg-background-dark/80 p-3 sm:p-4 pb-2 justify-between backdrop-blur-sm">
        <div class="flex size-10 sm:size-12 shrink-0 items-center justify-start">
            <button class="flex items-center justify-center rounded-full h-9 w-9 sm:h-10 sm:w-10 text-text-primary dark:text-white hover:bg-gray-100 dark:hover:bg-white/10 transition-colors">
                <span class="material-symbols-outlined text-xl sm:text-2xl">arrow_back</span>
            </button>
        </div>
        <h2 class="text-text-primary dark:text-white text-base sm:text-lg font-bold leading-tight flex-1 text-center opacity-0 transition-opacity duration-300" id="sticky-header-title">Royal Palm Residence</h2>
        <div class="flex w-10 sm:w-12 items-center justify-end">
            <button class="flex items-center justify-center rounded-full h-9 w-9 sm:h-10 sm:w-10 bg-transparent text-text-primary dark:text-white hover:bg-gray-100 dark:hover:bg-white/10 transition-colors">
                <span class="material-symbols-outlined text-xl sm:text-2xl">ios_share</span>
            </button>
        </div>
    </div>
    
    <!-- Hero Image Section -->
    <div class="relative px-3 sm:px-4 md:px-6">
        <div class="bg-cover bg-center flex flex-col justify-end overflow-hidden rounded-xl min-h-[280px] sm:min-h-80 md:min-h-96" style='background-image: linear-gradient(0deg, rgba(0, 0, 0, 0.4) 0%, rgba(0, 0, 0, 0) 40%), url("https://lh3.googleusercontent.com/aida-public/AB6AXuATBps2I-ovVkAYCUSDlXcuF-hqIyFT_aBMjH73gCCucm03BgGbqrowaE-gZRAXLtvdoNY8x_xDH5FGfd3UNfqliALmUzxVlZGjxgrGrCuEvzE5f9DAq8uHcCoIRZGMITB1Mufjof09wKI-IeYgfdmJKtbpJqb4GpLJfTe_HEOsELfstJmvCqRKsaoW1ptvTZTLUTMrxfDH6HDXq6mpcEuA4zR3hgaT7eDmEKK1L3-k_S17DUUQTu2UvkcDQI6QWZmfk8NJIEmiOpc");'>
            <div class="flex justify-center gap-2 p-4 sm:p-5">
                <div class="h-1 sm:h-1.5 w-5 sm:w-6 rounded-full bg-white"></div>
                <div class="h-1 sm:h-1.5 w-1 sm:w-1.5 rounded-full bg-white/50"></div>
                <div class="h-1 sm:h-1.5 w-1 sm:w-1.5 rounded-full bg-white/50"></div>
                <div class="h-1 sm:h-1.5 w-1 sm:w-1.5 rounded-full bg-white/50"></div>
            </div>
        </div>
        
        <!-- 360 Virtual Tour Button with Icon Image -->
        <button onclick="open360Tour()" class="absolute bottom-3 sm:bottom-4 left-1/2 -translate-x-1/2 flex items-center justify-center gap-2 sm:gap-2.5 rounded-full bg-black/50 py-2 sm:py-2.5 px-3 sm:px-5 text-xs sm:text-sm font-bold text-white backdrop-blur-md hover:bg-black/60 transition-colors">
            <img src="https://cdn-icons-png.flaticon.com/512/3048/3048425.png" alt="360 icon" class="w-5 h-5 sm:w-6 sm:h-6 brightness-0 invert">
            <span class="hidden xs:inline">360° Virtual Tour</span>
            <span class="xs:hidden">360° Tour</span>
        </button>
        
        <!-- Favorite Button -->
        <button class="absolute top-3 sm:top-4 right-6 sm:right-8 flex h-9 w-9 sm:h-10 sm:w-10 items-center justify-center rounded-full bg-white/20 backdrop-blur-sm hover:bg-white/30 transition-colors">
            <span class="material-symbols-outlined text-white text-xl sm:text-2xl" style="font-variation-settings: 'FILL' 1;">favorite</span>
        </button>
    </div>
    
    <!-- Property Info Section -->
    <div class="p-3 sm:p-4 md:p-6 pt-4 sm:pt-6 space-y-3 sm:space-y-4">
        <div class="flex items-start justify-between gap-3">
            <div class="flex-1 min-w-0">
                <h1 class="text-text-primary dark:text-white tracking-tight text-xl sm:text-2xl md:text-3xl font-bold leading-tight">Royal Palm Residence</h1>
                <p class="text-text-secondary dark:text-gray-300 text-sm sm:text-base font-normal leading-normal pt-1 truncate sm:whitespace-normal">123 Luxury Lane, Beverly Hills, CA 90210</p>
            </div>
            <div class="flex items-center gap-1.5 rounded-full bg-brand-green/10 px-2.5 sm:px-3 py-1 sm:py-1.5 shrink-0">
                <span class="material-symbols-outlined text-brand-green text-sm sm:text-base" style="font-variation-settings: 'FILL' 1;">verified</span>
                <span class="text-xs font-bold text-brand-green">Verified</span>
            </div>
        </div>
        
        <!-- Price -->
        <div class="flex items-baseline gap-2">
            <p class="text-2xl sm:text-3xl md:text-4xl font-bold text-brand-gold">$3,250,000</p>
            <span class="text-xs sm:text-sm font-medium text-text-secondary dark:text-gray-400">For Sale</span>
        </div>
        
        <!-- Property Stats -->
        <div class="grid grid-cols-3 gap-2 sm:gap-3 pt-2">
            <div class="flex items-center gap-1.5 sm:gap-2 rounded-lg bg-gray-100 dark:bg-white/10 p-2 sm:p-3">
                <span class="material-symbols-outlined text-text-primary dark:text-brand-gold text-xl sm:text-2xl">bed</span>
                <p class="text-xs sm:text-sm font-semibold text-text-primary dark:text-white">4 Beds</p>
            </div>
            <div class="flex items-center gap-1.5 sm:gap-2 rounded-lg bg-gray-100 dark:bg-white/10 p-2 sm:p-3">
                <span class="material-symbols-outlined text-text-primary dark:text-brand-gold text-xl sm:text-2xl">bathtub</span>
                <p class="text-xs sm:text-sm font-semibold text-text-primary dark:text-white">3 Baths</p>
            </div>
            <div class="flex items-center gap-1.5 sm:gap-2 rounded-lg bg-gray-100 dark:bg-white/10 p-2 sm:p-3">
                <span class="material-symbols-outlined text-text-primary dark:text-brand-gold text-xl sm:text-2xl">square_foot</span>
                <p class="text-xs sm:text-sm font-semibold text-text-primary dark:text-white">2,450 sqft</p>
            </div>
        </div>
    </div>
    
    <!-- Agent Contact Card -->
    <div class="p-3 sm:p-4 md:p-6 pt-3 sm:pt-5">
        <div class="rounded-xl border border-gray-200 dark:border-gray-700 p-3 sm:p-4">
            <div class="flex flex-col sm:flex-row items-start sm:items-center justify-between pb-3 sm:pb-4 gap-3">
                <div class="flex items-center gap-2 sm:gap-3 w-full sm:w-auto">
                    <img class="h-12 w-12 sm:h-14 sm:w-14 rounded-full object-cover shrink-0" src="https://lh3.googleusercontent.com/aida-public/AB6AXuDhHABhORfMkguzZGeZhj2WS85r0tlDtdkPYqkxiHcDnlzT23EyU2OKRDTxFzv3RXqzpEHYPIqkCi7KdItLrLbWMQ5CceSb59fv_5tyf8PK5WZ0T8P212PMQPBT4s35p4Dg4Fk60pH7cIKjgPVd6PfWNePCbpKwPHoUi080ugQOrgQvR7U5-Minuzph6_Yg_TISkLxpN5JEF5lTs7NdB5dDGs8KTbc28RQJwwL0UzZESUu6VxkDBqrY_mfXPYawIIY8OQs8aUSlcd0" alt="Profile picture of Jane Doe"/>
                    <div class="flex-1 min-w-0">
                        <p class="font-bold text-sm sm:text-base text-text-primary dark:text-white truncate">Jane Doe</p>
                        <p class="text-xs sm:text-sm text-text-secondary dark:text-gray-400 truncate">Luxury Real Estate Agent</p>
                    </div>
                </div>
                <img class="h-6 sm:h-8 self-end sm:self-auto" src="https://lh3.googleusercontent.com/aida-public/AB6AXuAXDRTzwYhUnRUo87zbVL3a3GwjPjhaEuwhQWIP5SeMoHa7hVv1AUCt_ErktN5O_rOcMEOXJtjKGi0sCFGOWdC4JaiuZ0qcthecarqCFE2AqRVL3-aISBdcF0XUnp03bPu5rE9jYQkvXnQ2eD_VTxc3cgFhoGvVRDiWAd8_3IgRgXXmI3AywYZzeX_IG6LX8MxANs30j8IF0MKHuAsBl4Fenmrr0KB5bzgjj7sgn0biThR9KYISXZQkGzwWUixhcOc6vWXv4AIsmg8" alt="Real estate agency logo"/>
            </div>
            
            <!-- Contact Buttons -->
            <div class="flex flex-col gap-2 sm:gap-3">
                <button class="flex w-full items-center justify-center gap-2 sm:gap-2.5 rounded-lg bg-brand-green px-4 py-2.5 sm:py-3 text-sm sm:text-base font-bold text-white hover:bg-brand-green/90 transition-colors">
                    <svg class="h-5 w-5 sm:h-6 sm:w-6" fill="none" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path clip-rule="evenodd" d="M18.445 5.623a9.428 9.428 0 0 0-13.327 0 9.428 9.428 0 0 0 0 13.327L5.13 18.96l.012.008.017.01a9.428 9.428 0 0 0 13.327 0l.02-.02.007-.006.007-.008a9.428 9.428 0 0 0 0-13.327ZM12.003 2.5a9.503 9.503 0 0 0-7.75 15.28l-1.01 3.73 3.82-1.002a9.503 9.503 0 0 0 14.88-6.508 9.503 9.503 0 0 0-9.94-11.5Zm4.832 12.333a1.458 1.458 0 0 1-.84.777c-.31.173-1.02.5-1.74.24-.72-.26-1.57-.89-2.31-1.92-.93-1.28-1.5-2.57-1.57-2.73a.473.473 0 0 1 .15-.65l.4-.41c.14-.14.3-.23.47-.13.16.1.34.46.38.51.04.05.07.1.02.19-.05.09-1.02 1.2-1.18 1.39-.16.19-.3.21-.44.13-.14-.08-.6-.28-.9-.53s-.66-.56-.9-1.02c-.25-.46-.3-1.08.13-1.46.43-.38.78-.47.98-.47.2 0 .43.01.58.02.15.01.32.02.48.3.18.32.74 1.74.8 1.86.06.12.09.28.02.4l-.2.22c-.08.08-.13.13-.23.23s-.15.11-.08.23c.07.12.78.96 1.63 1.7.85.75 1.73 1.05 1.96 1.13.23.08.31.06.4-.04.09-.1.35-.41.45-.55.1-.14.2-.14.34-.08s.9.43 1.04.5c.15.08.26.12.29.18.03.06.03.4-.1.77Z" fill="white" fill-rule="evenodd"></path></svg>
                    <span class="hidden xs:inline">Message on WhatsApp</span>
                    <span class="xs:hidden">WhatsApp</span>
                </button>
                <div class="grid grid-cols-2 gap-2 sm:gap-3">
                    <button class="flex w-full items-center justify-center gap-1.5 sm:gap-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-background-light dark:bg-background-dark py-2.5 sm:py-3 text-sm sm:text-base font-semibold text-text-primary dark:text-white hover:bg-gray-50 dark:hover:bg-white/5 transition-colors">
                        <span class="material-symbols-outlined text-lg sm:text-xl">call</span>
                        Call
                    </button>
                    <button class="flex w-full items-center justify-center gap-1.5 sm:gap-2 rounded-lg border border-gray-200 dark:border-gray-700 bg-background-light dark:bg-background-dark py-2.5 sm:py-3 text-sm sm:text-base font-semibold text-text-primary dark:text-white hover:bg-gray-50 dark:hover:bg-white/5 transition-colors">
                        <span class="material-symbols-outlined text-lg sm:text-xl">email</span>
                        Email
                    </button>
                </div>
            </div>
        </div>
    </div>
    
    <!-- Tabs Section -->
    <div class="p-3 sm:p-4 md:p-6 pt-2">
        <div class="border-b border-gray-200 dark:border-gray-700 overflow-x-auto">
            <nav aria-label="Tabs" class="-mb-px flex space-x-4 sm:space-x-6">
                <a class="whitespace-nowrap border-b-2 border-primary px-1 py-2 sm:py-3 text-xs sm:text-sm font-bold text-primary dark:border-brand-gold dark:text-brand-gold" href="#">Description</a>
                <a class="whitespace-nowrap border-b-2 border-transparent px-1 py-2 sm:py-3 text-xs sm:text-sm font-medium text-gray-500 dark:text-gray-400 hover:border-gray-300 hover:text-gray-700" href="#">Features</a>
                <a class="whitespace-nowrap border-b-2 border-transparent px-1 py-2 sm:py-3 text-xs sm:text-sm font-medium text-gray-500 dark:text-gray-400 hover:border-gray-300 hover:text-gray-700" href="#">Map</a>
            </nav>
        </div>
        
        <!-- Description -->
        <div class="py-4 sm:py-5">
            <h3 class="text-base sm:text-lg font-semibold text-text-primary dark:text-white">About this home</h3>
            <p class="text-text-secondary dark:text-gray-300 text-sm sm:text-base leading-relaxed pt-2">
                Discover unparalleled luxury in this exquisite Beverly Hills estate. This modern masterpiece features an open-concept living space, gourmet kitchen with top-of-the-line appliances, and floor-to-ceiling windows offering breathtaking panoramic views. <a class="font-bold text-primary dark:text-brand-gold hover:underline" href="#">Read more</a>
            </p>
        </div>
    </div>
    
    <!-- Trust Badges -->
    <div class="px-3 sm:px-4 md:px-6 pb-20 sm:pb-24">
        <h3 class="text-base sm:text-lg font-semibold text-text-primary dark:text-white">Our Commitment to You</h3>
        <div class="mt-3 grid grid-cols-2 gap-2 sm:gap-3">
            <div class="flex items-center gap-2 sm:gap-3 rounded-lg bg-gray-100 dark:bg-white/10 p-2 sm:p-3">
                <span class="material-symbols-outlined text-brand-green text-xl sm:text-2xl shrink-0">verified_user</span>
                <span class="text-xs sm:text-sm font-medium text-text-primary dark:text-white">Verified Agent</span>
            </div>
            <div class="flex items-center gap-2 sm:gap-3 rounded-lg bg-gray-100 dark:bg-white/10 p-2 sm:p-3">
                <span class="material-symbols-outlined text-brand-green text-xl sm:text-2xl shrink-0">lock</span>
                <span class="text-xs sm:text-sm font-medium text-text-primary dark:text-white">Secure Transaction</span>
            </div>
            <div class="flex items-center gap-2 sm:gap-3 rounded-lg bg-gray-100 dark:bg-white/10 p-2 sm:p-3">
                <span class="material-symbols-outlined text-brand-gold text-xl sm:text-2xl shrink-0">military_tech</span>
                <span class="text-xs sm:text-sm font-medium text-text-primary dark:text-white">Top Agency Award '23</span>
            </div>
            <div class="flex items-center gap-2 sm:gap-3 rounded-lg bg-gray-100 dark:bg-white/10 p-2 sm:p-3">
                <span class="material-symbols-outlined text-brand-gold text-xl sm:text-2xl shrink-0">support_agent</span>
                <span class="text-xs sm:text-sm font-medium text-text-primary dark:text-white">24/7 Support</span>
            </div>
        </div>
    </div>
    
    <!-- Fixed Bottom CTA -->
    <div class="fixed bottom-0 left-0 right-0 z-20 bg-background-light/80 dark:bg-background-dark/80 p-3 sm:p-4 backdrop-blur-sm border-t border-gray-200 dark:border-gray-700">
        <button class="w-full rounded-lg bg-primary py-3 sm:py-3.5 text-sm sm:text-base font-bold text-white hover:bg-primary/90 transition-colors">Contact Agent</button>
    </div>
</div>

<!-- 360° Virtual Tour Modal -->
<div id="tour360Modal" class="fixed inset-0 z-50 hidden bg-black">
    <div class="relative w-full h-full">
        <!-- Close Button -->
        <button onclick="close360Tour()" class="absolute top-4 right-4 z-10 flex items-center justify-center rounded-full h-10 w-10 bg-white/20 backdrop-blur-sm hover:bg-white/30 transition-colors">
            <span class="material-symbols-outlined text-white text-2xl">close</span>
        </button>
        
        <!-- 360° Viewer Container -->
        <div id="panoramaViewer" class="w-full h-full"></div>
        
        <!-- Instruction Overlay -->
        <div class="absolute bottom-6 left-1/2 -translate-x-1/2 flex items-center gap-2 rounded-full bg-black/50 py-2 px-4 text-sm text-white backdrop-blur-md pointer-events-none">
            <span class="material-symbols-outlined text-lg">360</span>
            <span class="hidden sm:inline">Drag to look around • Scroll to zoom</span>
            <span class="sm:hidden">Drag to explore</span>
        </div>
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/three.js/r128/three.min.js"></script>
<script>
// 360 Tour Modal Functions
let viewer360 = null;

function open360Tour() {
    document.getElementById('tour360Modal').classList.remove('hidden');
    document.body.style.overflow = 'hidden';
    
    if (!viewer360) {
        init360Viewer();
    }
}

function close360Tour() {
    document.getElementById('tour360Modal').classList.add('hidden');
    document.body.style.overflow = 'auto';
}

// Close modal with Escape key
document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') {
        close360Tour();
    }
});

// Initialize 360° Viewer with Three.js
function init360Viewer() {
    const container = document.getElementById('panoramaViewer');
    
    // Scene setup
    const scene = new THREE.Scene();
    const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
    const renderer = new THREE.WebGLRenderer({ antialias: true });
    
    renderer.setSize(window.innerWidth, window.innerHeight);
    container.appendChild(renderer.domElement);
    
    // Create sphere for 360 image
    const geometry = new THREE.SphereGeometry(500, 60, 40);
    geometry.scale(-1, 1, 1); // Invert for inside view
    
    // Load 360 panoramic texture
    const texture = new THREE.TextureLoader().load(
        'https://images.unsplash.com/photo-1600607687939-ce8a6c25118c?w=4000&q=90'
    );
    
    const material = new THREE.MeshBasicMaterial({ map: texture });
    const sphere = new THREE.Mesh(geometry, material);
    scene.add(sphere);
    
    camera.position.set(0, 0, 0.1);
    
    // Mouse/Touch controls
    let isUserInteracting = false;
    let onPointerDownMouseX = 0;
    let onPointerDownMouseY = 0;
    let lon = 0;
    let onPointerDownLon = 0;
    let lat = 0;
    let onPointerDownLat = 0;
    let phi = 0;
    let theta = 0;
    
    function onPointerDown(event) {
        isUserInteracting = true;
        const clientX = event.clientX || event.touches[0].clientX;
        const clientY = event.clientY || event.touches[0].clientY;
        onPointerDownMouseX = clientX;
        onPointerDownMouseY = clientY;
        onPointerDownLon = lon;
        onPointerDownLat = lat;
    }
    
    function onPointerMove(event) {
        if (isUserInteracting) {
            const clientX = event.clientX || event.touches[0].clientX;
            const clientY = event.clientY || event.touches[0].clientY;
            lon = (onPointerDownMouseX - clientX) * 0.1 + onPointerDownLon;
            lat = (clientY - onPointerDownMouseY) * 0.1 + onPointerDownLat;
        }
    }
    
    function onPointerUp() {
        isUserInteracting = false;
    }
    
    function onDocumentMouseWheel(event) {
        const fov = camera.fov + event.deltaY * 0.05;
        camera.fov = THREE.MathUtils.clamp(fov, 10, 75);
        camera.updateProjectionMatrix();
    }
    
    container.addEventListener('mousedown', onPointerDown, false);
    container.addEventListener('mousemove', onPointerMove, false);
    container.addEventListener('mouseup', onPointerUp, false);
    container.addEventListener('touchstart', onPointerDown, false);
    container.addEventListener('touchmove', onPointerMove, false);
    container.addEventListener('touchend', onPointerUp, false);
    container.addEventListener('wheel', onDocumentMouseWheel, false);
    
    // Animation loop
    function animate() {
        requestAnimationFrame(animate);
        update();
    }
    
    function update() {
        lat = Math.max(-85, Math.min(85, lat));
        phi = THREE.MathUtils.degToRad(90 - lat);
        theta = THREE.MathUtils.degToRad(lon);
        
        camera.position.x = 100 * Math.sin(phi) * Math.cos(theta);
        camera.position.y = 100 * Math.cos(phi);
        camera.position.z = 100 * Math.sin(phi) * Math.sin(theta);
        
        camera.lookAt(scene.position);
        renderer.render(scene, camera);
    }
    
    // Handle window resize
    function onWindowResize() {
        camera.aspect = window.innerWidth / window.innerHeight;
        camera.updateProjectionMatrix();
        renderer.setSize(window.innerWidth, window.innerHeight);
    }
    
    window.addEventListener('resize', onWindowResize, false);
    
    animate();
    viewer360 = { scene, camera, renderer };
}

// Show/hide sticky header title on scroll
window.addEventListener('scroll', () => {
    const stickyTitle = document.getElementById('sticky-header-title');
    if (window.scrollY > 200) {
        stickyTitle.style.opacity = '1';
    } else {
        stickyTitle.style.opacity = '0';
    }
});
</script>
</body>
</html>